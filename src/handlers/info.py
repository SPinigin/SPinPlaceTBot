from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import ContextTypes
from config.config import Config
from keyboards.keyboards import Keyboards

class InfoHandler:
    @staticmethod
    async def handle_info(update: Update, context: ContextTypes.DEFAULT_TYPE):
        query = update.callback_query
        await query.answer()

        if query.data == 'rules':
            await InfoHandler.show_rules(query)
        elif query.data == 'directions':
            await InfoHandler.show_directions(query)
        elif query.data == 'check_in_out':
            await InfoHandler.show_check_in_out(query)
        elif query.data == 'faq':
            await InfoHandler.show_faq(query)

    @staticmethod
    async def show_rules(query):
        rules_text = """
üìú –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏—è –≤ –∫–æ—Ç—Ç–µ–¥–∂–µ:

1. –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞:
   ‚Ä¢ –í—Ä–µ–º—è –∑–∞–µ–∑–¥–∞: 14:00
   ‚Ä¢ –í—Ä–µ–º—è –≤—ã–µ–∑–¥–∞: 12:00
   ‚Ä¢ –ö—É—Ä–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ —Ç–æ–ª—å–∫–æ –Ω–∞ —É–ª–∏—Ü–µ
   ‚Ä¢ –ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ —Å –¥–æ–º–∞—à–Ω–∏–º–∏ –∂–∏–≤–æ—Ç–Ω—ã–º–∏ –ø–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—é

2. –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø–ª–∞—Ç–∞:
   ‚Ä¢ –ü—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ 20% –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
   ‚Ä¢ –ü–æ–ª–Ω–∞—è –æ–ø–ª–∞—Ç–∞ –ø—Ä–∏ –∑–∞—Å–µ–ª–µ–Ω–∏–∏
   ‚Ä¢ –í–æ–∑–≤—Ä–∞—Ç –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—ã –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –∑–∞ 7 –¥–Ω–µ–π

3. –ü—Ä–∞–≤–∏–ª–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è:
   ‚Ä¢ –°–æ–±–ª—é–¥–µ–Ω–∏–µ —Ç–∏—à–∏–Ω—ã —Å 23:00 –¥–æ 8:00
   ‚Ä¢ –ë–µ—Ä–µ–∂–Ω–æ–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –∏–º—É—â–µ—Å—Ç–≤—É
   ‚Ä¢ –ó–∞–ø—Ä–µ—Ç –Ω–∞ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ —à—É–º–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π

4. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:
   ‚Ä¢ –ì–æ—Å—Ç–∏ –Ω–µ—Å—É—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –ø–æ—Ä—á—É –∏–º—É—â–µ—Å—Ç–≤–∞
   ‚Ä¢ –ü—Ä–∏ –∑–∞—Å–µ–ª–µ–Ω–∏–∏ –≤–Ω–æ—Å–∏—Ç—Å—è –≤–æ–∑–≤—Ä–∞—Ç–Ω—ã–π –¥–µ–ø–æ–∑–∏—Ç 5000 —Ä—É–±.

5. –£–±–æ—Ä–∫–∞ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ:
   ‚Ä¢ –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —É–±–æ—Ä–∫–∞ –Ω–µ –≤—Ö–æ–¥–∏—Ç –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å
   ‚Ä¢ –°–º–µ–Ω–∞ –±–µ–ª—å—è —Ä–∞–∑ –≤ 5 –¥–Ω–µ–π
   ‚Ä¢ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —É–±–æ—Ä–∫–∞ –ø–æ –∑–∞–ø—Ä–æ—Å—É

6. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
   ‚Ä¢ –ó–∞–∫—Ä—ã–≤–∞–π—Ç–µ –¥–≤–µ—Ä–∏ –∏ –æ–∫–Ω–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
   ‚Ä¢ –ù–µ –æ—Å—Ç–∞–≤–ª—è–π—Ç–µ —Ü–µ–Ω–Ω—ã–µ –≤–µ—â–∏ –±–µ–∑ –ø—Ä–∏—Å–º–æ—Ç—Ä–∞
   ‚Ä¢ –í —Å–ª—É—á–∞–µ –ß–ü –∑–≤–æ–Ω–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
"""
        keyboard = [[InlineKeyboardButton("¬´ –ù–∞–∑–∞–¥", callback_data='info')]]
        await query.edit_message_text(
            text=rules_text,
            reply_markup=InlineKeyboardMarkup(keyboard)
        )

    @staticmethod
    async def show_directions(query):
        directions_text = """
üöó –ö–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ –∫–æ—Ç—Ç–µ–¥–∂–∞:

üìç –ù–∞—à –∞–¥—Ä–µ—Å:
[–í–∞—à –∞–¥—Ä–µ—Å]

üöò –ù–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ:
1. –û–ø–∏—Å–∞–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ –ø–æ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ—Ä–æ–≥–µ
2. –ö–ª—é—á–µ–≤—ã–µ –ø–æ–≤–æ—Ä–æ—Ç—ã –∏ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—ã
3. –ì–¥–µ –ø—Ä–∏–ø–∞—Ä–∫–æ–≤–∞—Ç—å—Å—è

üöá –ù–∞ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–µ:
1. –û—Ç –±–ª–∏–∂–∞–π—à–µ–π —Å—Ç–∞–Ω—Ü–∏–∏ –º–µ—Ç—Ä–æ/–≤–æ–∫–∑–∞–ª–∞
2. –ù–æ–º–µ—Ä–∞ –∞–≤—Ç–æ–±—É—Å–æ–≤/–º–∞—Ä—à—Ä—É—Ç–æ–∫
3. –í—Ä–µ–º—è –≤ –ø—É—Ç–∏

üöï –ù–∞ —Ç–∞–∫—Å–∏:
‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–ª—É–∂–±—ã —Ç–∞–∫—Å–∏
‚Ä¢ –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å
‚Ä¢ –û—Ä–∏–µ–Ω—Ç–∏—Ä—ã –¥–ª—è –≤–æ–¥–∏—Ç–µ–ª—è

üì± –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä–∞:
[–®–∏—Ä–æ—Ç–∞, –î–æ–ª–≥–æ—Ç–∞]

‚ùóÔ∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:
‚Ä¢ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –¥–æ—Ä–æ–≥–∏
‚Ä¢ –ì–¥–µ –ª—É—á—à–µ —Å–≤–µ—Ä–Ω—É—Ç—å
‚Ä¢ –•–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—ã

üìû –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç–µ–π:
–ó–≤–æ–Ω–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É: {Config.ADMIN_CONTACT}
"""
        keyboard = [[InlineKeyboardButton("¬´ –ù–∞–∑–∞–¥", callback_data='info')]]
        await query.edit_message_text(
            text=directions_text,
            reply_markup=InlineKeyboardMarkup(keyboard)
        )

    @staticmethod
    async def show_check_in_out(query):
        check_info_text = """
üïí –ó–∞—Å–µ–ª–µ–Ω–∏–µ –∏ –≤—ã—Å–µ–ª–µ–Ω–∏–µ:

üì• –ó–∞—Å–µ–ª–µ–Ω–∏–µ (Check-in):
‚Ä¢ –í—Ä–µ–º—è: —Å 14:00
‚Ä¢ –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã: –ø–∞—Å–ø–æ—Ä—Ç
‚Ä¢ –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –∑–∞—Å–µ–ª–µ–Ω–∏—è:
  1. –í—Å—Ç—Ä–µ—á–∞ —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
  2. –û—Å–º–æ—Ç—Ä –∫–æ—Ç—Ç–µ–¥–∂–∞
  3. –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –∞–∫—Ç–∞ –ø—Ä–∏–µ–º–∞-–ø–µ—Ä–µ–¥–∞—á–∏
  4. –í–Ω–µ—Å–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–∞
  5. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π

üì§ –í—ã—Å–µ–ª–µ–Ω–∏–µ (Check-out):
‚Ä¢ –í—Ä–µ–º—è: –¥–æ 12:00
‚Ä¢ –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –≤—ã—Å–µ–ª–µ–Ω–∏—è:
  1. –û—Å–º–æ—Ç—Ä –∫–æ—Ç—Ç–µ–¥–∂–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
  2. –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –∞–∫—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞
  3. –í–æ–∑–≤—Ä–∞—Ç –¥–µ–ø–æ–∑–∏—Ç–∞
  4. –°–¥–∞—á–∞ –∫–ª—é—á–µ–π

‚ö†Ô∏è –í–∞–∂–Ω–æ:
‚Ä¢ –†–∞–Ω–Ω–∏–π –∑–∞–µ–∑–¥ –∏ –ø–æ–∑–¥–Ω–∏–π –≤—ã–µ–∑–¥ –ø–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–π –¥–æ–≥–æ–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
‚Ä¢ –î–æ–ø–ª–∞—Ç–∞ –∑–∞ —Ä–∞–Ω–Ω–∏–π –∑–∞–µ–∑–¥: 500 —Ä—É–±/—á–∞—Å
‚Ä¢ –î–æ–ø–ª–∞—Ç–∞ –∑–∞ –ø–æ–∑–¥–Ω–∏–π –≤—ã–µ–∑–¥: 500 —Ä—É–±/—á–∞—Å
‚Ä¢ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ

üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
{Config.ADMIN_CONTACT}
"""
        keyboard = [[InlineKeyboardButton("¬´ –ù–∞–∑–∞–¥", callback_data='info')]]
        await query.edit_message_text(
            text=check_info_text,
            reply_markup=InlineKeyboardMarkup(keyboard)
        )

    @staticmethod
    async def show_faq(query):
        faq_text = """
‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã (FAQ):

üè† –û –∫–æ—Ç—Ç–µ–¥–∂–µ:
Q: –ö–∞–∫–∞—è –ø–ª–æ—â–∞–¥—å –∫–æ—Ç—Ç–µ–¥–∂–∞?
A: [–ü–ª–æ—â–∞–¥—å] –º¬≤

Q: –°–∫–æ–ª—å–∫–æ —Å–ø–∞–ª–µ–Ω –≤ –∫–æ—Ç—Ç–µ–¥–∂–µ?
A: [–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ] —Å–ø–∞–ª–µ–Ω

Q: –ï—Å—Ç—å –ª–∏ –ø–∞—Ä–∫–æ–≤–∫–∞?
A: –î–∞, –Ω–∞ 2 –∞–≤—Ç–æ–º–æ–±–∏–ª—è

üí∞ –û–ø–ª–∞—Ç–∞ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:
Q: –ö–∞–∫ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ç—Ç–µ–¥–∂?
A: –ß–µ—Ä–µ–∑ –±–æ—Ç –∏–ª–∏ —Å–∞–π—Ç —Å –≤–Ω–µ—Å–µ–Ω–∏–µ–º –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—ã

Q: –ö–∞–∫–∏–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è?
A: –ù–∞–ª–∏—á–Ω—ã–µ, –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É, –±–µ–∑–Ω–∞–ª–∏—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç

Q: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ª–∏ –ø—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ?
A: –î–∞, –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ –∑–∞ 7 –¥–Ω–µ–π –¥–æ –∑–∞–µ–∑–¥–∞

üè° –ü—Ä–æ–∂–∏–≤–∞–Ω–∏–µ:
Q: –ï—Å—Ç—å –ª–∏ Wi-Fi?
A: –î–∞, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–π

Q: –ú–æ–∂–Ω–æ –ª–∏ —Å –¥–µ—Ç—å–º–∏?
A: –î–∞, –µ—Å—Ç—å –¥–µ—Ç—Å–∫–∞—è –ø–ª–æ—â–∞–¥–∫–∞

Q: –ú–æ–∂–Ω–æ –ª–∏ —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏?
A: –ü–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–º—É —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—é

üõé –°–µ—Ä–≤–∏—Å:
Q: –ï—Å—Ç—å –ª–∏ —É–±–æ—Ä–∫–∞?
A: –ü—Ä–∏ –∑–∞–µ–∑–¥–µ –∏ –≤—ã–µ–∑–¥–µ, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É

Q: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ—Å—Ç–µ–ª—å–Ω–æ–µ –±–µ–ª—å–µ?
A: –î–∞, –≤–∫–ª—é—á–µ–Ω–æ –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å

Q: –ï—Å—Ç—å –ª–∏ –º–∞–Ω–≥–∞–ª—å–Ω–∞—è –∑–æ–Ω–∞?
A: –î–∞, —Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –¥—Ä–æ–≤

‚ö†Ô∏è –û—Å–æ–±—ã–µ —Å–ª—É—á–∞–∏:
Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –ø–æ–ª–æ–º–∫–µ?
A: –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–æ–æ–±—â–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É

Q: –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ–¥–ª–∏—Ç—å –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ?
A: –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

üìû –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã:
–ó–≤–æ–Ω–∏—Ç–µ: {Config.ADMIN_CONTACT}
Email: {Config.EMAIL}
"""
        keyboard = [[InlineKeyboardButton("¬´ –ù–∞–∑–∞–¥", callback_data='info')]]
        await query.edit_message_text(
            text=faq_text,
            reply_markup=InlineKeyboardMarkup(keyboard)
        )

def register_info_handlers(application):
    """–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞"""
    application.add_handler(
        CallbackQueryHandler(
            InfoHandler.handle_info,
            pattern='^(info|rules|directions|check_in_out|faq)$'
        )
    )
